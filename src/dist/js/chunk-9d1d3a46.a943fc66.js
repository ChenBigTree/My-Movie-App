(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9d1d3a46"],{"7f46":function(t,s,e){},"8fc2":function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"ticket clearfix"},[e("header",{staticClass:"fl"},[e("div",{staticClass:"left fl",on:{click:t.goback}},[e("van-icon",{attrs:{name:"arrow-left"}})],1),e("div",{staticClass:"right fl"},[t._v("万达电影院")])]),e("center",[e("div",{staticClass:"movie-top"},[e("div",{staticClass:"top1 clearfix"},[e("div",{staticClass:"top1-fl fl"},[e("div",{staticClass:"name oneTextOverflow"},[t._v(t._s(this.film.name))]),e("div",{staticClass:"time oneTextOverflow"},[t._v("今天（周二） 17：35")])])])]),e("div",{staticClass:"movie-bottom"},[e("div",{staticClass:"bottom-head"},[t._v("1号MAX厅")]),e("div",{staticClass:"seat-box"},[e("div",{staticClass:"seatColumn"},t._l(t.nums,(function(s,a){return e("span",{key:a},[t._v(t._s(s.key))])})),0),e("div",{staticClass:"seat-chairbox clearfix"},t._l(t.seatBox,(function(s,a){return e("div",{key:a,staticClass:"row clearfix"},t._l(s,(function(s,i){return e("div",{key:i,class:s.className,on:{click:function(e){return t.desetope(s,a,i)}}})})),0)})),0),e("div",{staticClass:"seat-instructions clearfix"},[e("div",{staticClass:"instructions-box"},[e("span",{staticClass:"chair"}),e("div",[t._v("不可选")])]),e("div",{staticClass:"instructions-box"},[e("span",{staticClass:"nochoose-chair"}),e("div",[t._v("已选")])]),e("div",{staticClass:"instructions-box"},[e("span",{staticClass:"choose-chair"}),e("div",[t._v("可选")])])])])]),e("div",{staticClass:"movie-footer clearfix"},[e("div",{staticClass:"top2 fl"},[e("p",[t._v("已选座位：")]),e("div",{staticClass:"num-box clearfix"},t._l(this.seatSubscriptBox.seatSubscript,(function(s,a){return e("div",{key:a,staticClass:"num fl"},[e("span",{staticClass:"title"},[t._v(t._s(s.row+1>=10?s.row+1:"0"+(s.row+1))+"排"+t._s(s.col+1>=10?s.col+1:"0"+(s.col+1))+"座")])])})),0)]),e("div",{staticClass:"btn fl",on:{click:t.submitOrder}},[t._v("提交订单")])])])],1)},i=[],o=(e("a4d3"),e("4de4"),e("4160"),e("a434"),e("e439"),e("dbb4"),e("b64b"),e("ac1f"),e("1276"),e("159b"),e("ade3")),c=e("2f62");function r(t,s){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter((function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable}))),e.push.apply(e,a)}return e}function n(t){for(var s=1;s<arguments.length;s++){var e=null!=arguments[s]?arguments[s]:{};s%2?r(Object(e),!0).forEach((function(s){Object(o["a"])(t,s,e[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):r(Object(e)).forEach((function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(e,s))}))}return t}var l=Object(c["a"])("ticketModule"),u=l.mapState,f=l.mapMutations,h={name:"ticket",computed:n({},u(["nums","seatBox","seatSubscriptBox","film"])),methods:n({},f(["changSeat","delData","loadingFun"]),{goback:function(){this.$router.go(-1)},loadingFun:function(){this.$toast.loading({duration:0,message:"提交订单中..."})},desetope:function(t,s,e){var a=this;if("seat chair"==t.className)return this.$toast("座位已被选，请换个");if("seat"==t.className){if(this.seatSubscriptBox.seatSubscript.length>3)return this.$toast("最多四个");this.seatBox[s][e].className="seat nochoose-chair";var i={row:s,col:e};this.seatSubscriptBox.seatSubscript.push(i)}else"seat nochoose-chair"==t.className&&this.seatSubscriptBox.seatSubscript.forEach((function(t,i){t.row==s&&t.col==e&&(a.seatBox[s][e].className="seat",a.seatSubscriptBox.seatSubscript.splice(i,1))}))},submitOrder:function(){var t=this;this.loadingFun();var s=Math.ceil(5e3*Math.random());if(0!=this.seatSubscriptBox.seatSubscript.length){for(var e=0;e<this.seatSubscriptBox.seatSubscript.length;e++)for(var a=0;a<this.seatBox.length;a++)for(var i=0;i<this.seatBox[a].length;i++)this.seatSubscriptBox.seatSubscript[e].row==a&&this.seatSubscriptBox.seatSubscript[e].col==i&&(this.seatBox[a][i].className="seat chair");setTimeout((function(){t.$toast.clear(),t.$router.push({name:"buyResults"})}),s)}else this.$toast.clear(),this.$toast("座位为空，请选座位在提交")}}),created:function(){var t=this;console.log("电影id",this.film.id);var s=location.hash.split("/")[2];if(s!=this.seatSubscriptBox.id)for(var e=0;e<this.seatBox.length;e++)for(var a=0;a<this.seatBox[e].length;a++)this.seatBox[e][a].className="seat";this.axios({method:"GET",url:"https://douban.uieee.com/v2/movie/subject/"+s,async:!1}).then((function(s){console.log("电影详情",s);var e=s.data.title,a=s.data.images.large;t.$store.commit("ticketModule/changeFilmData",{id:t.film.id,name:e,img:a})}))}},d=h,v=(e("f841"),e("2877")),p=Object(v["a"])(d,a,i,!1,null,"150fee86",null);s["default"]=p.exports},a434:function(t,s,e){"use strict";var a=e("23e7"),i=e("23cb"),o=e("a691"),c=e("50c4"),r=e("7b0b"),n=e("65f0"),l=e("8418"),u=e("1dde"),f=Math.max,h=Math.min,d=9007199254740991,v="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!u("splice")},{splice:function(t,s){var e,a,u,p,b,m,x=r(this),g=c(x.length),C=i(t,g),w=arguments.length;if(0===w?e=a=0:1===w?(e=0,a=g-C):(e=w-2,a=h(f(o(s),0),g-C)),g+e-a>d)throw TypeError(v);for(u=n(x,a),p=0;p<a;p++)b=C+p,b in x&&l(u,p,x[b]);if(u.length=a,e<a){for(p=C;p<g-a;p++)b=p+a,m=p+e,b in x?x[m]=x[b]:delete x[m];for(p=g;p>g-a+e;p--)delete x[p-1]}else if(e>a)for(p=g-a;p>C;p--)b=p+a-1,m=p+e-1,b in x?x[m]=x[b]:delete x[m];for(p=0;p<e;p++)x[p+C]=arguments[p+2];return x.length=g-a+e,u}})},f841:function(t,s,e){"use strict";var a=e("7f46"),i=e.n(a);i.a}}]);
//# sourceMappingURL=chunk-9d1d3a46.a943fc66.js.map